# MiniCRM ä»ªè¡¨ç›˜ç•Œé¢è®¾è®¡

## ä»ªè¡¨ç›˜æ•´ä½“å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•°æ®ä»ªè¡¨ç›˜                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å…³é”®æŒ‡æ ‡å¡ç‰‡åŒºåŸŸ (KPI Cards)                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚ â”‚å®¢æˆ·æ•°é‡ â”‚ â”‚å¾…åŠä»»åŠ¡ â”‚ â”‚ æŠ¥ä»·   â”‚ â”‚ åº”æ”¶   â”‚             â”‚
â”‚ â”‚  156   â”‚ â”‚   8    â”‚ â”‚  12ä¸ª  â”‚ â”‚ Â¥50.2K â”‚             â”‚
â”‚ â”‚  ä¸ª    â”‚ â”‚  é¡¹    â”‚ â”‚ å¾…ç¡®è®¤  â”‚ â”‚ å¾…æ”¶å›  â”‚             â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¸»è¦ä¸šåŠ¡åŒºåŸŸ (Primary Business Area)                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚     å¾…åŠä»»åŠ¡åˆ—è¡¨    â”‚ â”‚         å”®åå·¥å•åˆ—è¡¨            â”‚ â”‚
â”‚ â”‚                     â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚  ï¿½ ä¼˜å…ˆæœˆçº§ä»»åŠ¡      â”‚ â”‚   ğŸ”§ å¾…å¤„ç†å·¥å•                â”‚ â”‚
â”‚ â”‚                     â”‚ â”‚                                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å›¾è¡¨åˆ†æåŒºåŸŸ (Charts Analysis Area)                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   å¾…åŠä»»åŠ¡åˆ†ç±»å›¾    â”‚ â”‚      å”®åé—®é¢˜åˆ†ç±»å›¾             â”‚ â”‚
â”‚ â”‚                     â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚  ğŸ“Š ç´§æ€¥/é‡è¦/æ™®é€š   â”‚ â”‚   ğŸ”§ å¼€èƒ¶/å´©è¾¹/èµ·çš®/èµ·çš±/å˜å‹ â”‚ â”‚
â”‚ â”‚                     â”‚ â”‚                                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¿«é€Ÿæ“ä½œå’Œé€šçŸ¥åŒºåŸŸ                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚    å¿«é€Ÿæ“ä½œ         â”‚ â”‚         æœ€æ–°é€šçŸ¥                â”‚ â”‚
â”‚ â”‚ [æ–°å¢å®¢æˆ·]          â”‚ â”‚  â€¢ å®¢æˆ·Açš„åˆåŒå³å°†åˆ°æœŸ          â”‚ â”‚
â”‚ â”‚ [åˆ›å»ºæŠ¥ä»·]          â”‚ â”‚  â€¢ ä¾›åº”å•†Bæäº¤äº†æ–°æŠ¥ä»·          â”‚ â”‚
â”‚ â”‚ [è®°å½•æ”¶æ¬¾]          â”‚ â”‚  â€¢ 3ä¸ªå”®åå·¥å•å¾…å¤„ç†            â”‚ â”‚
â”‚ â”‚ [æŸ¥çœ‹æŠ¥è¡¨]          â”‚ â”‚  â€¢ æœ¬æœˆé”€å”®ç›®æ ‡å®Œæˆ80%          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Slintä»ªè¡¨ç›˜å®ç°

```slint
// src/presentation/ui/pages/dashboard.slint
import { Button, VerticalBox, HorizontalBox, ScrollView, Text } from "std-widgets.slint";
import { AppTheme } from "../themes/default_theme.slint";
import { KpiCard } from "../components/kpi_card.slint";
import { LineChart } from "../components/line_chart.slint";
import { PieChart } from "../components/pie_chart.slint";
import { BarChart } from "../components/bar_chart.slint";

/// ä»ªè¡¨ç›˜é¡µé¢ç»„ä»¶
/// 
/// æ˜¾ç¤ºç³»ç»Ÿçš„å…³é”®ä¸šåŠ¡æŒ‡æ ‡ã€å›¾è¡¨åˆ†æå’Œå¿«é€Ÿæ“ä½œå…¥å£ã€‚
/// ä¸ºç”¨æˆ·æä¾›ä¸šåŠ¡æ¦‚è§ˆå’Œæ•°æ®æ´å¯Ÿã€‚
/// 
/// # åŠŸèƒ½ç‰¹æ€§
/// 
/// 1. **å…³é”®æŒ‡æ ‡å±•ç¤º**: å®¢æˆ·æ•°é‡ã€è´¢åŠ¡æ•°æ®ã€ä»»åŠ¡ç»Ÿè®¡ç­‰KPI
/// 2. **è¶‹åŠ¿åˆ†æ**: å®¢æˆ·å¢é•¿ã€äº’åŠ¨é¢‘ç‡ç­‰è¶‹åŠ¿å›¾è¡¨
/// 3. **åˆ†å¸ƒåˆ†æ**: å®¢æˆ·ç±»å‹ã€è´¦æ¬¾çŠ¶æ€ç­‰åˆ†å¸ƒå›¾è¡¨
/// 4. **å¿«é€Ÿæ“ä½œ**: å¸¸ç”¨åŠŸèƒ½çš„å¿«æ·å…¥å£
/// 5. **å®æ—¶é€šçŸ¥**: é‡è¦äº‹ä»¶å’Œæé†’ä¿¡æ¯
/// 
/// # æ•°æ®æ›´æ–°
/// 
/// - è‡ªåŠ¨åˆ·æ–°ï¼šæ¯5åˆ†é’Ÿè‡ªåŠ¨æ›´æ–°æ•°æ®
/// - æ‰‹åŠ¨åˆ·æ–°ï¼šç”¨æˆ·å¯ä»¥æ‰‹åŠ¨è§¦å‘æ•°æ®åˆ·æ–°
/// - å®æ—¶æ›´æ–°ï¼šå…³é”®æ“ä½œåç«‹å³æ›´æ–°ç›¸å…³æ•°æ®
/// 
/// # å“åº”å¼è®¾è®¡
/// 
/// - æ”¯æŒä¸åŒå±å¹•å°ºå¯¸çš„è‡ªé€‚åº”å¸ƒå±€
/// - å›¾è¡¨ç»„ä»¶æ”¯æŒåŠ¨æ€è°ƒæ•´å¤§å°
/// - ç§»åŠ¨ç«¯å‹å¥½çš„äº¤äº’è®¾è®¡
export component DashboardPage {
    // è¾“å…¥å±æ€§ - ä»ªè¡¨ç›˜æ•°æ®
    in property <DashboardData> dashboard-data: {
        kpi: {
            total-customers: 0,
            pending-tasks: 0,
            pending-quotes: 0,
            accounts-receivable: 0.0,
            customer-growth-rate: 0.0,
            quote-growth-rate: 0.0,
            revenue-growth-rate: 0.0,
        },
        charts: {
            task-classification: [],
            service-classification: [],
            interaction-frequency: [],
            receivables-status: [],
        },
        notifications: [],
        quick-actions: true,
    };
    
    // çŠ¶æ€å±æ€§
    in property <bool> loading: false;
    in property <string> last-updated: "";
    
    // å›è°ƒå‡½æ•°
    callback refresh-data();
    callback navigate-to(string);
    callback quick-action(string);
    callback notification-clicked(int);
    
    // ä¸»æ»šåŠ¨å®¹å™¨
    ScrollView {
        VerticalBox {
            spacing: AppTheme.spacing-lg;
            padding: AppTheme.spacing-lg;
            
            // é¡µé¢æ ‡é¢˜å’Œåˆ·æ–°æŒ‰é’®
            header := HorizontalBox {
                alignment: space-between;
                
                title-section := VerticalBox {
                    alignment: start;
                    
                    Text {
                        text: "æ•°æ®ä»ªè¡¨ç›˜";
                        font-size: AppTheme.font-size-title;
                        font-weight: 700;
                        color: AppTheme.text-primary;
                    }
                    
                    Text {
                        text: "æœ€åæ›´æ–°: " + last-updated;
                        font-size: AppTheme.font-size-small;
                        color: AppTheme.text-secondary;
                    }
                }
                
                refresh-section := HorizontalBox {
                    spacing: AppTheme.spacing-sm;
                    
                    Button {
                        text: loading ? "åˆ·æ–°ä¸­..." : "ğŸ”„ åˆ·æ–°æ•°æ®";
                        enabled: !loading;
                        
                        clicked => {
                            refresh-data();
                        }
                    }
                    
                    Button {
                        text: "âš™ï¸ è®¾ç½®";
                        
                        clicked => {
                            navigate-to("settings");
                        }
                    }
                }
            }
            
            // å…³é”®æŒ‡æ ‡å¡ç‰‡åŒºåŸŸ
            kpi-section := VerticalBox {
                spacing: AppTheme.spacing-md;
                
                Text {
                    text: "å…³é”®ä¸šåŠ¡æŒ‡æ ‡";
                    font-size: AppTheme.font-size-heading;
                    font-weight: 600;
                    color: AppTheme.text-primary;
                }
                
                kpi-cards := HorizontalBox {
                    spacing: AppTheme.spacing-md;
                    
                    // å®¢æˆ·æ•°é‡å¡ç‰‡
                    KpiCard {
                        title: "å®¢æˆ·æ•°é‡";
                        value: dashboard-data.kpi.total-customers;
                        unit: "ä¸ª";
                        trend: dashboard-data.kpi.customer-growth-rate;
                        icon: "ğŸ‘¥";
                        color: AppTheme.primary-color;
                        
                        clicked => {
                            navigate-to("customers");
                        }
                    }
                    
                    // å¾…åŠä»»åŠ¡å¡ç‰‡
                    KpiCard {
                        title: "å¾…åŠä»»åŠ¡";
                        value: dashboard-data.kpi.pending-tasks;
                        unit: "é¡¹";
                        trend: 0.0;
                        icon: "ğŸ“‹";
                        color: AppTheme.warning-color;
                        urgent: dashboard-data.kpi.pending-tasks > 10;
                        
                        clicked => {
                            navigate-to("tasks");
                        }
                    }
                    
                    // æŠ¥ä»·å¡ç‰‡
                    KpiCard {
                        title: "æŠ¥ä»·";
                        value: dashboard-data.kpi.pending-quotes;
                        unit: "ä¸ª";
                        trend: dashboard-data.kpi.quote-growth-rate;
                        icon: "ï¿½";
                        color: AppTheme.info-color;
                        
                        clicked => {
                            navigate-to("quotes");
                        }
                    }
                    
                    // åº”æ”¶è´¦æ¬¾å¡ç‰‡
                    KpiCard {
                        title: "åº”æ”¶";
                        value: dashboard-data.kpi.accounts-receivable;
                        unit: "ä¸‡å…ƒ";
                        trend: dashboard-data.kpi.revenue-growth-rate;
                        icon: "ğŸ’°";
                        color: AppTheme.success-color;
                        is-currency: true;
                        
                        clicked => {
                            navigate-to("finance/receivables");
                        }
                    }
                }
            }
            
            // ä¸»è¦ä¸šåŠ¡åŒºåŸŸ
            primary-business := VerticalBox {
                spacing: AppTheme.spacing-md;
                
                Text {
                    text: "é‡è¦ä¸šåŠ¡äº‹é¡¹";
                    font-size: AppTheme.font-size-heading;
                    font-weight: 600;
                    color: AppTheme.text-primary;
                }
                
                business-row := HorizontalBox {
                    spacing: AppTheme.spacing-md;
                    
                    // å¾…åŠä»»åŠ¡åˆ—è¡¨
                    todo-list := Rectangle {
                        background: AppTheme.card-color;
                        border-radius: AppTheme.border-radius-md;
                        border-width: 1px;
                        border-color: AppTheme.border-color;
                        
                        VerticalBox {
                            padding: AppTheme.spacing-md;
                            spacing: AppTheme.spacing-sm;
                            
                            // ä»»åŠ¡åˆ—è¡¨æ ‡é¢˜
                            todo-header := HorizontalBox {
                                alignment: space-between;
                                
                                Text {
                                    text: "å¾…åŠä»»åŠ¡";
                                    font-size: AppTheme.font-size-large;
                                    font-weight: 600;
                                    color: AppTheme.text-primary;
                                }
                                
                                HorizontalBox {
                                    spacing: AppTheme.spacing-xs;
                                    
                                    Text {
                                        text: dashboard-data.kpi.pending-tasks;
                                        font-size: AppTheme.font-size-small;
                                        color: AppTheme.warning-color;
                                        font-weight: 600;
                                    }
                                    
                                    Text {
                                        text: "é¡¹å¾…åŠ";
                                        font-size: AppTheme.font-size-small;
                                        color: AppTheme.text-secondary;
                                    }
                                }
                            }
                            
                            // ä»»åŠ¡åˆ—è¡¨å†…å®¹
                            if dashboard-data.tasks.length > 0: ScrollView {
                                height: 200px;
                                
                                VerticalBox {
                                    spacing: AppTheme.spacing-xs;
                                    
                                    for task[index] in dashboard-data.tasks: Rectangle {
                                        background: task.urgent ? AppTheme.error-color.with-alpha(0.1) : 
                                                   task.priority == "high" ? AppTheme.warning-color.with-alpha(0.1) : 
                                                   transparent;
                                        border-radius: AppTheme.border-radius-sm;
                                        border-left: 3px solid (task.urgent ? AppTheme.error-color : 
                                                                task.priority == "high" ? AppTheme.warning-color : 
                                                                AppTheme.info-color);
                                        
                                        HorizontalBox {
                                            padding: AppTheme.spacing-sm;
                                            spacing: AppTheme.spacing-sm;
                                            alignment: space-between;
                                            
                                            // ä»»åŠ¡å†…å®¹
                                            VerticalBox {
                                                alignment: start;
                                                
                                                Text {
                                                    text: task.title;
                                                    font-size: AppTheme.font-size-normal;
                                                    color: AppTheme.text-primary;
                                                    font-weight: 500;
                                                    overflow: elide;
                                                }
                                                
                                                HorizontalBox {
                                                    spacing: AppTheme.spacing-sm;
                                                    
                                                    Text {
                                                        text: task.customer-name;
                                                        font-size: AppTheme.font-size-small;
                                                        color: AppTheme.text-secondary;
                                                    }
                                                    
                                                    Text {
                                                        text: "â€¢";
                                                        font-size: AppTheme.font-size-small;
                                                        color: AppTheme.text-disabled;
                                                    }
                                                    
                                                    Text {
                                                        text: task.due-date;
                                                        font-size: AppTheme.font-size-small;
                                                        color: task.overdue ? AppTheme.error-color : AppTheme.text-secondary;
                                                    }
                                                }
                                            }
                                            
                                            // ä¼˜å…ˆçº§æ ‡ç­¾
                                            Rectangle {
                                                width: 60px;
                                                height: 20px;
                                                border-radius: 10px;
                                                background: task.urgent ? AppTheme.error-color : 
                                                           task.priority == "high" ? AppTheme.warning-color : 
                                                           AppTheme.info-color;
                                                
                                                Text {
                                                    text: task.urgent ? "ç´§æ€¥" : 
                                                         task.priority == "high" ? "é‡è¦" : "æ™®é€š";
                                                    font-size: 10px;
                                                    color: white;
                                                    font-weight: 500;
                                                    horizontal-alignment: center;
                                                    vertical-alignment: center;
                                                }
                                            }
                                        }
                                        
                                        TouchArea {
                                            clicked => {
                                                navigate-to("tasks/" + task.id);
                                            }
                                        }
                                    }
                                }
                            }
                            
                            if dashboard-data.tasks.length == 0: VerticalBox {
                                alignment: center;
                                height: 150px;
                                
                                Text {
                                    text: "âœ…";
                                    font-size: 32px;
                                }
                                
                                Text {
                                    text: "æš‚æ— å¾…åŠä»»åŠ¡";
                                    font-size: AppTheme.font-size-normal;
                                    color: AppTheme.text-secondary;
                                }
                            }
                            
                            // æŸ¥çœ‹å…¨éƒ¨æŒ‰é’®
                            Button {
                                text: "æŸ¥çœ‹å…¨éƒ¨ä»»åŠ¡";
                                width: 100%;
                                
                                clicked => {
                                    navigate-to("tasks");
                                }
                            }
                        }
                    }
                    
                    // å”®åå·¥å•åˆ—è¡¨
                    service-tickets := Rectangle {
                        background: AppTheme.card-color;
                        border-radius: AppTheme.border-radius-md;
                        border-width: 1px;
                        border-color: AppTheme.border-color;
                        
                        VerticalBox {
                            padding: AppTheme.spacing-md;
                            spacing: AppTheme.spacing-sm;
                            
                            // å·¥å•åˆ—è¡¨æ ‡é¢˜
                            tickets-header := HorizontalBox {
                                alignment: space-between;
                                
                                Text {
                                    text: "å”®åå·¥å•";
                                    font-size: AppTheme.font-size-large;
                                    font-weight: 600;
                                    color: AppTheme.text-primary;
                                }
                                
                                HorizontalBox {
                                    spacing: AppTheme.spacing-xs;
                                    
                                    Text {
                                        text: dashboard-data.service-tickets.length;
                                        font-size: AppTheme.font-size-small;
                                        color: AppTheme.error-color;
                                        font-weight: 600;
                                    }
                                    
                                    Text {
                                        text: "ä¸ªå·¥å•";
                                        font-size: AppTheme.font-size-small;
                                        color: AppTheme.text-secondary;
                                    }
                                }
                            }
                            
                            // å·¥å•åˆ—è¡¨å†…å®¹
                            if dashboard-data.service-tickets.length > 0: ScrollView {
                                height: 200px;
                                
                                VerticalBox {
                                    spacing: AppTheme.spacing-xs;
                                    
                                    for ticket[index] in dashboard-data.service-tickets: Rectangle {
                                        background: ticket.status == "urgent" ? AppTheme.error-color.with-alpha(0.1) : 
                                                   ticket.status == "pending" ? AppTheme.warning-color.with-alpha(0.1) : 
                                                   AppTheme.success-color.with-alpha(0.1);
                                        border-radius: AppTheme.border-radius-sm;
                                        border-left: 3px solid (ticket.status == "urgent" ? AppTheme.error-color : 
                                                                ticket.status == "pending" ? AppTheme.warning-color : 
                                                                AppTheme.success-color);
                                        
                                        HorizontalBox {
                                            padding: AppTheme.spacing-sm;
                                            spacing: AppTheme.spacing-sm;
                                            alignment: space-between;
                                            
                                            // å·¥å•å†…å®¹
                                            VerticalBox {
                                                alignment: start;
                                                
                                                Text {
                                                    text: ticket.title;
                                                    font-size: AppTheme.font-size-normal;
                                                    color: AppTheme.text-primary;
                                                    font-weight: 500;
                                                    overflow: elide;
                                                }
                                                
                                                HorizontalBox {
                                                    spacing: AppTheme.spacing-sm;
                                                    
                                                    Text {
                                                        text: ticket.customer-name;
                                                        font-size: AppTheme.font-size-small;
                                                        color: AppTheme.text-secondary;
                                                    }
                                                    
                                                    Text {
                                                        text: "â€¢";
                                                        font-size: AppTheme.font-size-small;
                                                        color: AppTheme.text-disabled;
                                                    }
                                                    
                                                    Text {
                                                        text: ticket.product-name;
                                                        font-size: AppTheme.font-size-small;
                                                        color: AppTheme.text-secondary;
                                                    }
                                                    
                                                    Text {
                                                        text: "â€¢";
                                                        font-size: AppTheme.font-size-small;
                                                        color: AppTheme.text-disabled;
                                                    }
                                                    
                                                    Text {
                                                        text: ticket.created-date;
                                                        font-size: AppTheme.font-size-small;
                                                        color: AppTheme.text-secondary;
                                                    }
                                                }
                                            }
                                            
                                            // çŠ¶æ€æ ‡ç­¾
                                            Rectangle {
                                                width: 60px;
                                                height: 20px;
                                                border-radius: 10px;
                                                background: ticket.status == "urgent" ? AppTheme.error-color : 
                                                           ticket.status == "pending" ? AppTheme.warning-color : 
                                                           AppTheme.success-color;
                                                
                                                Text {
                                                    text: ticket.status == "urgent" ? "ç´§æ€¥" : 
                                                         ticket.status == "pending" ? "å¾…å¤„ç†" : "å·²å¤„ç†";
                                                    font-size: 10px;
                                                    color: white;
                                                    font-weight: 500;
                                                    horizontal-alignment: center;
                                                    vertical-alignment: center;
                                                }
                                            }
                                        }
                                        
                                        TouchArea {
                                            clicked => {
                                                navigate-to("service-tickets/" + ticket.id);
                                            }
                                        }
                                    }
                                }
                            }
                            
                            if dashboard-data.service-tickets.length == 0: VerticalBox {
                                alignment: center;
                                height: 150px;
                                
                                Text {
                                    text: "ğŸ”§";
                                    font-size: 32px;
                                }
                                
                                Text {
                                    text: "æš‚æ— å”®åå·¥å•";
                                    font-size: AppTheme.font-size-normal;
                                    color: AppTheme.text-secondary;
                                }
                            }
                            
                            // æŸ¥çœ‹å…¨éƒ¨æŒ‰é’®
                            Button {
                                text: "æŸ¥çœ‹å…¨éƒ¨å·¥å•";
                                width: 100%;
                                
                                clicked => {
                                    navigate-to("service-tickets");
                                }
                            }
                        }
                    }
                }
            }
            
            // å›¾è¡¨åˆ†æåŒºåŸŸ
            charts-analysis := VerticalBox {
                spacing: AppTheme.spacing-md;
                
                Text {
                    text: "æ•°æ®åˆ†æå›¾è¡¨";
                    font-size: AppTheme.font-size-heading;
                    font-weight: 600;
                    color: AppTheme.text-primary;
                }
                
                charts-row := HorizontalBox {
                    spacing: AppTheme.spacing-md;
                    
                    // å¾…åŠä»»åŠ¡åˆ†ç±»å›¾
                    task-classification-chart := Rectangle {
                        background: AppTheme.card-color;
                        border-radius: AppTheme.border-radius-md;
                        border-width: 1px;
                        border-color: AppTheme.border-color;
                        
                        VerticalBox {
                            padding: AppTheme.spacing-md;
                            spacing: AppTheme.spacing-sm;
                            
                            // å›¾è¡¨æ ‡é¢˜
                            chart-header := HorizontalBox {
                                alignment: space-between;
                                
                                Text {
                                    text: "å¾…åŠä»»åŠ¡åˆ†ç±»";
                                    font-size: AppTheme.font-size-large;
                                    font-weight: 600;
                                    color: AppTheme.text-primary;
                                }
                                
                                Text {
                                    text: "æŒ‰ä¼˜å…ˆçº§";
                                    font-size: AppTheme.font-size-small;
                                    color: AppTheme.text-secondary;
                                }
                            }
                            
                            // æŸ±çŠ¶å›¾ç»„ä»¶
                            BarChart {
                                width: 100%;
                                height: 200px;
                                data: dashboard-data.charts.task-classification;
                                x-axis-label: "ä¼˜å…ˆçº§";
                                y-axis-label: "ä»»åŠ¡æ•°é‡";
                                bar-colors: [
                                    AppTheme.error-color,    // ç´§æ€¥ - çº¢è‰²
                                    AppTheme.warning-color,  // é‡è¦ - æ©™è‰²
                                    AppTheme.info-color,     // æ™®é€š - è“è‰²
                                ];
                                show-grid: true;
                                show-values: true;
                                
                                bar-clicked(index, label, value) => {
                                    // å¤„ç†æŸ±çŠ¶å›¾ç‚¹å‡»äº‹ä»¶
                                    navigate-to("tasks?priority=" + label);
                                }
                            }
                        }
                    }
                    
                    // å”®åé—®é¢˜åˆ†ç±»å›¾
                    service-classification-chart := Rectangle {
                        background: AppTheme.card-color;
                        border-radius: AppTheme.border-radius-md;
                        border-width: 1px;
                        border-color: AppTheme.border-color;
                        
                        VerticalBox {
                            padding: AppTheme.spacing-md;
                            spacing: AppTheme.spacing-sm;
                            
                            // å›¾è¡¨æ ‡é¢˜
                            Text {
                                text: "å”®åé—®é¢˜åˆ†ç±»";
                                font-size: AppTheme.font-size-large;
                                font-weight: 600;
                                color: AppTheme.text-primary;
                            }
                            
                            // é¥¼å›¾ç»„ä»¶
                            PieChart {
                                width: 100%;
                                height: 200px;
                                data: dashboard-data.charts.service-classification;
                                show-legend: true;
                                show-labels: true;
                                colors: [
                                    AppTheme.error-color,    // å¼€èƒ¶ - çº¢è‰²
                                    AppTheme.warning-color,  // å´©è¾¹ - æ©™è‰²
                                    AppTheme.info-color,     // èµ·çš® - è“è‰²
                                    AppTheme.success-color,  // èµ·çš± - ç»¿è‰²
                                    AppTheme.primary-color,  // å˜å‹ - ä¸»è‰²
                                ];
                                
                                segment-clicked(index, label, value) => {
                                    // å¤„ç†é¥¼å›¾æ®µç‚¹å‡»äº‹ä»¶
                                    navigate-to("service-tickets?category=" + label);
                                }
                            }
                        }
                    }
                }
            }
            
            // å¿«é€Ÿæ“ä½œå’Œé€šçŸ¥åŒºåŸŸ
            bottom-section := HorizontalBox {
                spacing: AppTheme.spacing-md;
                alignment: stretch;
                
                // å¿«é€Ÿæ“ä½œé¢æ¿
                quick-actions-panel := Rectangle {
                    background: AppTheme.card-color;
                    border-radius: AppTheme.border-radius-md;
                    border-width: 1px;
                    border-color: AppTheme.border-color;
                    width: 50%;
                    
                    VerticalBox {
                        padding: AppTheme.spacing-md;
                        spacing: AppTheme.spacing-md;
                        
                        Text {
                            text: "å¿«é€Ÿæ“ä½œ";
                            font-size: AppTheme.font-size-large;
                            font-weight: 600;
                            color: AppTheme.text-primary;
                        }
                        
                        actions-grid := VerticalBox {
                            spacing: AppTheme.spacing-sm;
                            
                            actions-row-1 := HorizontalBox {
                                spacing: AppTheme.spacing-sm;
                                
                                Button {
                                    text: "â• æ–°å¢å®¢æˆ·";
                                    primary: true;
                                    
                                    clicked => {
                                        quick-action("new-customer");
                                    }
                                }
                                
                                Button {
                                    text: "ğŸ­ æ–°å¢ä¾›åº”å•†";
                                    
                                    clicked => {
                                        quick-action("new-supplier");
                                    }
                                }
                            }
                            
                            actions-row-2 := HorizontalBox {
                                spacing: AppTheme.spacing-sm;
                                
                                Button {
                                    text: "ğŸ“‹ åˆ›å»ºæŠ¥ä»·";
                                    
                                    clicked => {
                                        quick-action("new-quote");
                                    }
                                }
                                
                                Button {
                                    text: "ğŸ’° è®°å½•æ”¶æ¬¾";
                                    
                                    clicked => {
                                        quick-action("record-payment");
                                    }
                                }
                            }
                            
                            actions-row-3 := HorizontalBox {
                                spacing: AppTheme.spacing-sm;
                                
                                Button {
                                    text: "ğŸ“Š æŸ¥çœ‹æŠ¥è¡¨";
                                    
                                    clicked => {
                                        quick-action("view-reports");
                                    }
                                }
                                
                                Button {
                                    text: "ğŸ“„ æ–°å»ºåˆåŒ";
                                    
                                    clicked => {
                                        quick-action("new-contract");
                                    }
                                }
                            }
                        }
                    }
                }
                
                // é€šçŸ¥é¢æ¿
                notifications-panel := Rectangle {
                    background: AppTheme.card-color;
                    border-radius: AppTheme.border-radius-md;
                    border-width: 1px;
                    border-color: AppTheme.border-color;
                    width: 50%;
                    
                    VerticalBox {
                        padding: AppTheme.spacing-md;
                        spacing: AppTheme.spacing-md;
                        
                        notifications-header := HorizontalBox {
                            alignment: space-between;
                            
                            Text {
                                text: "æœ€æ–°é€šçŸ¥";
                                font-size: AppTheme.font-size-large;
                                font-weight: 600;
                                color: AppTheme.text-primary;
                            }
                            
                            Text {
                                text: dashboard-data.notifications.length + " æ¡";
                                font-size: AppTheme.font-size-small;
                                color: AppTheme.text-secondary;
                            }
                        }
                        
                        if dashboard-data.notifications.length > 0: ScrollView {
                            height: 200px;
                            
                            VerticalBox {
                                spacing: AppTheme.spacing-xs;
                                
                                for notification[index] in dashboard-data.notifications: Rectangle {
                                    background: notification.urgent ? AppTheme.error-color.with-alpha(0.1) : transparent;
                                    border-radius: AppTheme.border-radius-sm;
                                    
                                    HorizontalBox {
                                        padding: AppTheme.spacing-sm;
                                        spacing: AppTheme.spacing-sm;
                                        
                                        // é€šçŸ¥å›¾æ ‡
                                        Text {
                                            text: notification.urgent ? "ğŸ”´" : 
                                                 notification.type == "contract" ? "ğŸ“„" :
                                                 notification.type == "payment" ? "ğŸ’°" :
                                                 notification.type == "task" ? "ğŸ“‹" : "â„¹ï¸";
                                            font-size: AppTheme.font-size-normal;
                                        }
                                        
                                        // é€šçŸ¥å†…å®¹
                                        VerticalBox {
                                            alignment: start;
                                            
                                            Text {
                                                text: notification.title;
                                                font-size: AppTheme.font-size-normal;
                                                color: AppTheme.text-primary;
                                                font-weight: 500;
                                                overflow: elide;
                                            }
                                            
                                            Text {
                                                text: notification.message;
                                                font-size: AppTheme.font-size-small;
                                                color: AppTheme.text-secondary;
                                                overflow: elide;
                                            }
                                            
                                            Text {
                                                text: notification.time;
                                                font-size: AppTheme.font-size-small;
                                                color: AppTheme.text-disabled;
                                            }
                                        }
                                    }
                                    
                                    TouchArea {
                                        clicked => {
                                            notification-clicked(index);
                                        }
                                    }
                                }
                            }
                        }
                        
                        if dashboard-data.notifications.length == 0: VerticalBox {
                            alignment: center;
                            height: 100px;
                            
                            Text {
                                text: "ğŸ””";
                                font-size: 32px;
                            }
                            
                            Text {
                                text: "æš‚æ— æ–°é€šçŸ¥";
                                font-size: AppTheme.font-size-normal;
                                color: AppTheme.text-secondary;
                            }
                        }
                    }
                }
            }
        }
    }
}

// ä»ªè¡¨ç›˜æ•°æ®ç»“æ„å®šä¹‰
export struct DashboardData {
    kpi: KpiData,
    charts: ChartData,
    notifications: [NotificationData],
    quick-actions: bool,
}

export struct KpiData {
    total-customers: int,
    pending-tasks: int,
    pending-quotes: int,
    accounts-receivable: float,
    customer-growth-rate: float,
    quote-growth-rate: float,
    revenue-growth-rate: float,
}

export struct ChartData {
    task-classification: [BarData],
    service-classification: [PieSegment],
    interaction-frequency: [BarData],
    receivables-status: [BarData],
}

export struct ChartPoint {
    x: string,
    y: float,
}

export struct PieSegment {
    label: string,
    value: float,
    color: color,
}

export struct BarData {
    label: string,
    value: float,
}

export struct NotificationData {
    id: int,
    type: string,
    title: string,
    message: string,
    time: string,
    urgent: bool,
}

export struct CustomFieldData {
    id: int,
    field-type: string,  // "service-issue" | "service-method" | "task-priority" ç­‰
    name: string,
    display-name: string,
    color: color,
    sort-order: int,
    is-active: bool,
}
```

## ä»ªè¡¨ç›˜è®¾è®¡æ›´æ–°è¯´æ˜

### å…³é”®æŒ‡æ ‡å¡ç‰‡åŒºåŸŸè°ƒæ•´
- **å®¢æˆ·æ•°é‡**: æ˜¾ç¤ºæ€»å®¢æˆ·æ•°é‡ï¼Œä¿æŒåŸæœ‰åŠŸèƒ½
- **å¾…åŠä»»åŠ¡**: æ˜¾ç¤ºå¾…å¤„ç†ä»»åŠ¡æ•°é‡ï¼Œæ”¯æŒç´§æ€¥ä»»åŠ¡æé†’
- **æŠ¥ä»·**: æ˜¾ç¤ºå¾…ç¡®è®¤çš„æŠ¥ä»·æ•°é‡ï¼Œæ–°å¢åŠŸèƒ½
- **åº”æ”¶**: æ˜¾ç¤ºåº”æ”¶è´¦æ¬¾é‡‘é¢ï¼Œç®€åŒ–æ˜¾ç¤ºåç§°

### å›¾è¡¨åˆ†æåŒºåŸŸè°ƒæ•´
- **å¾…åŠä»»åŠ¡åˆ†ç±»å›¾**: æ›¿ä»£å®¢æˆ·å¢é•¿è¶‹åŠ¿å›¾ï¼ŒæŒ‰ä¼˜å…ˆçº§ï¼ˆç´§æ€¥/é‡è¦/æ™®é€šï¼‰åˆ†ç±»æ˜¾ç¤ºä»»åŠ¡
- **å”®åé—®é¢˜åˆ†ç±»å›¾**: æ›¿ä»£å®¢æˆ·ç±»å‹åˆ†å¸ƒå›¾ï¼ŒæŒ‰æ¿æè¡Œä¸šé—®é¢˜ç±»å‹ï¼ˆå¼€èƒ¶/å´©è¾¹/èµ·çš®/èµ·çš±/å˜å‹ç­‰ï¼‰åˆ†ç±»æ˜¾ç¤ºå”®åå·¥å•

### è‡ªå®šä¹‰å­—æ®µæ”¯æŒ
- **å”®åé—®é¢˜åˆ†ç±»**: æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰é—®é¢˜ç±»å‹ï¼Œé»˜è®¤åŒ…å«å¼€èƒ¶ã€å´©è¾¹ã€èµ·çš®ã€èµ·çš±ã€å˜å‹ç­‰æ¿æè¡Œä¸šå¸¸è§é—®é¢˜
- **å”®åå¤„ç†æ–¹å¼**: æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å¤„ç†æ–¹å¼ï¼Œé»˜è®¤åŒ…å«èµ”æ¿ã€èµ”æ¬¾ã€é€€è´§ç­‰å¸¸è§å¤„ç†æ–¹å¼
- **åŠ¨æ€å›¾è¡¨æ›´æ–°**: å›¾è¡¨ä¼šæ ¹æ®ç”¨æˆ·çš„è‡ªå®šä¹‰å­—æ®µé…ç½®è‡ªåŠ¨è°ƒæ•´æ˜¾ç¤ºå†…å®¹å’Œé¢œè‰²
- **æ•°æ®è¿ç§»ä¿æŠ¤**: ä¿®æ”¹è‡ªå®šä¹‰å­—æ®µæ—¶æä¾›æ•°æ®è¿ç§»å’Œå¤‡ä»½æœºåˆ¶

### æŠ€æœ¯å®ç°ç‰¹ç‚¹

1. **ä¿¡æ¯å±‚æ¬¡æ¸…æ™°** - KPIå¡ç‰‡ â†’ ä¸šåŠ¡åˆ—è¡¨ â†’ åˆ†ç±»å›¾è¡¨ â†’ å¿«é€Ÿæ“ä½œ
2. **äº¤äº’æ€§å¼º** - æ‰€æœ‰å›¾è¡¨å’Œå¡ç‰‡éƒ½æ”¯æŒç‚¹å‡»è·³è½¬åˆ°è¯¦ç»†é¡µé¢
3. **å®æ—¶æ›´æ–°** - æ”¯æŒè‡ªåŠ¨å’Œæ‰‹åŠ¨æ•°æ®åˆ·æ–°æœºåˆ¶
4. **å“åº”å¼è®¾è®¡** - é€‚åº”ä¸åŒå±å¹•å°ºå¯¸çš„è‡ªé€‚åº”å¸ƒå±€
5. **è§†è§‰å¸å¼•** - ä¸°å¯Œçš„å›¾è¡¨ç±»å‹å’Œç»Ÿä¸€çš„é¢œè‰²æ­é…
6. **æ“ä½œä¾¿æ·** - é›†æˆå¿«é€Ÿæ“ä½œé¢æ¿å’Œé€šçŸ¥ä¸­å¿ƒ
7. **ä¸šåŠ¡å¯¼å‘** - é‡ç‚¹å…³æ³¨å¾…åŠä»»åŠ¡å’Œå”®åæœåŠ¡ç®¡ç†