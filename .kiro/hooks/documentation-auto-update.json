{
  "name": "æ–‡æ¡£è‡ªåŠ¨æ›´æ–°",
  "description": "ä»£ç å˜æ›´æ—¶è‡ªåŠ¨ç”Ÿæˆå’Œæ›´æ–°APIæ–‡æ¡£ã€READMEå’Œå¼€å‘æ–‡æ¡£",
  "trigger": {
    "type": "file_change",
    "patterns": [
      "**/*.rs", "**/*.swift", "**/*.py", "**/*.ts", "**/*.js",
      "**/README.md", "**/CHANGELOG.md", "**/*.toml", "**/package.json"
    ]
  },
  "actions": [
    {
      "name": "APIæ–‡æ¡£ç”Ÿæˆ",
      "type": "api_documentation",
      "actions": [
        {
          "name": "Rustæ–‡æ¡£ç”Ÿæˆ",
          "condition": "has_rust_changes",
          "commands": [
            "cargo doc --no-deps --document-private-items",
            "cargo doc --open --no-deps"
          ],
          "output": "target/doc/",
          "message": "ç”ŸæˆRust APIæ–‡æ¡£..."
        },
        {
          "name": "Swiftæ–‡æ¡£ç”Ÿæˆ",
          "condition": "has_swift_changes",
          "commands": [
            "swift-doc generate Sources/ --output docs/swift/",
            "sourcedocs generate --output-folder docs/swift-docs/"
          ],
          "output": "docs/swift/",
          "message": "ç”ŸæˆSwift APIæ–‡æ¡£..."
        },
        {
          "name": "Pythonæ–‡æ¡£ç”Ÿæˆ",
          "condition": "has_python_changes",
          "commands": [
            "sphinx-apidoc -o docs/source/ .",
            "sphinx-build -b html docs/source/ docs/build/"
          ],
          "output": "docs/build/",
          "message": "ç”ŸæˆPython APIæ–‡æ¡£..."
        },
        {
          "name": "TypeScriptæ–‡æ¡£ç”Ÿæˆ",
          "condition": "has_ts_changes",
          "commands": [
            "typedoc --out docs/typescript/ src/",
            "api-extractor run"
          ],
          "output": "docs/typescript/",
          "message": "ç”ŸæˆTypeScript APIæ–‡æ¡£..."
        }
      ]
    },
    {
      "name": "READMEè‡ªåŠ¨æ›´æ–°",
      "type": "readme_maintenance",
      "actions": [
        {
          "name": "APIå˜æ›´æ£€æµ‹",
          "script": "æ£€æµ‹å…¬å…±APIçš„å˜æ›´"
        },
        {
          "name": "ç¤ºä¾‹ä»£ç æ›´æ–°",
          "script": "æ›´æ–°READMEä¸­çš„ä»£ç ç¤ºä¾‹"
        },
        {
          "name": "åŠŸèƒ½åˆ—è¡¨åŒæ­¥",
          "script": "åŒæ­¥åŠŸèƒ½åˆ—è¡¨ä¸å®é™…å®ç°"
        },
        {
          "name": "ä¾èµ–ä¿¡æ¯æ›´æ–°",
          "script": "æ›´æ–°ä¾èµ–ç‰ˆæœ¬å’Œå®‰è£…è¯´æ˜"
        }
      ]
    },
    {
      "name": "CHANGELOGç”Ÿæˆ",
      "type": "changelog_generation",
      "format": "keep-a-changelog",
      "actions": [
        {
          "name": "Gitæäº¤åˆ†æ",
          "script": "åˆ†æGitæäº¤å†å²ç”Ÿæˆå˜æ›´æ—¥å¿—"
        },
        {
          "name": "è¯­ä¹‰åŒ–ç‰ˆæœ¬å»ºè®®",
          "script": "æ ¹æ®å˜æ›´ç±»å‹å»ºè®®ç‰ˆæœ¬å·"
        },
        {
          "name": "ç ´åæ€§å˜æ›´æ£€æµ‹",
          "script": "æ£€æµ‹APIç ´åæ€§å˜æ›´"
        }
      ]
    },
    {
      "name": "ä»£ç ç¤ºä¾‹éªŒè¯",
      "type": "example_validation",
      "actions": [
        {
          "name": "æå–æ–‡æ¡£ä¸­çš„ä»£ç ",
          "patterns": ["```rust", "```swift", "```python", "```typescript"]
        },
        {
          "name": "ç¼–è¯‘éªŒè¯ä»£ç ç¤ºä¾‹",
          "script": "ç¡®ä¿æ–‡æ¡£ä¸­çš„ä»£ç ç¤ºä¾‹å¯ä»¥ç¼–è¯‘è¿è¡Œ"
        },
        {
          "name": "è¿è¡Œç¤ºä¾‹æµ‹è¯•",
          "script": "æ‰§è¡Œæ–‡æ¡£ä¸­çš„ç¤ºä¾‹ä»£ç "
        }
      ]
    },
    {
      "name": "æ–‡æ¡£è´¨é‡æ£€æŸ¥",
      "type": "documentation_quality",
      "checks": [
        {
          "name": "è¦†ç›–ç‡æ£€æŸ¥",
          "script": "æ£€æŸ¥å…¬å…±APIçš„æ–‡æ¡£è¦†ç›–ç‡"
        },
        {
          "name": "é“¾æ¥æœ‰æ•ˆæ€§æ£€æŸ¥",
          "script": "éªŒè¯æ–‡æ¡£ä¸­çš„æ‰€æœ‰é“¾æ¥"
        },
        {
          "name": "æ‹¼å†™æ£€æŸ¥",
          "tools": ["aspell", "hunspell"],
          "languages": ["en_US", "zh_CN"]
        },
        {
          "name": "æ ¼å¼ä¸€è‡´æ€§æ£€æŸ¥",
          "script": "æ£€æŸ¥æ–‡æ¡£æ ¼å¼çš„ä¸€è‡´æ€§"
        }
      ]
    },
    {
      "name": "å¤šè¯­è¨€æ–‡æ¡£åŒæ­¥",
      "type": "i18n_documentation",
      "languages": ["zh-CN", "en-US"],
      "actions": [
        {
          "name": "æ£€æµ‹æ–‡æ¡£å˜æ›´",
          "script": "è¯†åˆ«éœ€è¦ç¿»è¯‘çš„æ–‡æ¡£å˜æ›´"
        },
        {
          "name": "ç”Ÿæˆç¿»è¯‘ä»»åŠ¡",
          "output": ".kiro/tasks/translation-tasks.md"
        },
        {
          "name": "åŒæ­¥æ–‡æ¡£ç»“æ„",
          "script": "ç¡®ä¿å„è¯­è¨€ç‰ˆæœ¬çš„æ–‡æ¡£ç»“æ„ä¸€è‡´"
        }
      ]
    },
    {
      "name": "æ–‡æ¡£éƒ¨ç½²å‡†å¤‡",
      "type": "deployment_preparation",
      "actions": [
        {
          "name": "é™æ€ç«™ç‚¹ç”Ÿæˆ",
          "tools": {
            "rust": "mdbook",
            "swift": "swift-doc",
            "python": "sphinx",
            "typescript": "docusaurus"
          }
        },
        {
          "name": "æœç´¢ç´¢å¼•ç”Ÿæˆ",
          "script": "ä¸ºæ–‡æ¡£ç”Ÿæˆæœç´¢ç´¢å¼•"
        },
        {
          "name": "æ–‡æ¡£å‹ç¼©ä¼˜åŒ–",
          "script": "ä¼˜åŒ–æ–‡æ¡£èµ„æºå¤§å°"
        }
      ]
    }
  ],
  "quality_gates": [
    {
      "name": "æ–‡æ¡£è¦†ç›–ç‡",
      "threshold": 80,
      "message": "å…¬å…±APIæ–‡æ¡£è¦†ç›–ç‡ä¸è¶³80%"
    },
    {
      "name": "ç¤ºä¾‹ä»£ç éªŒè¯",
      "requirement": "all_examples_compile",
      "message": "æ–‡æ¡£ä¸­å­˜åœ¨æ— æ³•ç¼–è¯‘çš„ç¤ºä¾‹ä»£ç "
    },
    {
      "name": "é“¾æ¥æœ‰æ•ˆæ€§",
      "requirement": "no_broken_links",
      "message": "æ–‡æ¡£ä¸­å­˜åœ¨å¤±æ•ˆé“¾æ¥"
    }
  ],
  "notifications": {
    "documentation_updated": "ğŸ“š æ–‡æ¡£å·²è‡ªåŠ¨æ›´æ–°",
    "api_changes_detected": "ğŸ”„ æ£€æµ‹åˆ°APIå˜æ›´ï¼Œæ–‡æ¡£éœ€è¦æ›´æ–°",
    "documentation_quality_issue": "âš ï¸ æ–‡æ¡£è´¨é‡æ£€æŸ¥å‘ç°é—®é¢˜",
    "translation_needed": "ğŸŒ æ£€æµ‹åˆ°éœ€è¦ç¿»è¯‘çš„å†…å®¹"
  },
  "settings": {
    "auto_commit_docs": false,
    "create_pull_request": true,
    "pr_title_template": "docs: è‡ªåŠ¨æ›´æ–°æ–‡æ¡£ - {timestamp}",
    "timeout": 240
  }
}