{
  "name": "ä»£ç é‡æ„å»ºè®®",
  "description": "åˆ†æä»£ç è´¨é‡é—®é¢˜å¹¶æä¾›æ™ºèƒ½é‡æ„å»ºè®®ï¼Œå¸®åŠ©æ”¹å–„ä»£ç ç»“æ„",
  "trigger": {
    "type": "manual",
    "also_trigger_on": [
      {
        "type": "scheduled",
        "schedule": "weekly"
      },
      {
        "type": "quality_threshold_exceeded"
      }
    ]
  },
  "actions": [
    {
      "name": "ä»£ç å¼‚å‘³æ£€æµ‹",
      "type": "code_smell_detection",
      "patterns": [
        {
          "name": "é•¿å‡½æ•°",
          "threshold": 50,
          "severity": "medium",
          "suggestion": "å°†é•¿å‡½æ•°æ‹†åˆ†ä¸ºå¤šä¸ªå°å‡½æ•°"
        },
        {
          "name": "å¤§ç±»",
          "threshold": 500,
          "severity": "medium", 
          "suggestion": "è€ƒè™‘å°†å¤§ç±»æ‹†åˆ†ä¸ºå¤šä¸ªèŒè´£å•ä¸€çš„ç±»"
        },
        {
          "name": "é‡å¤ä»£ç ",
          "threshold": 6,
          "severity": "high",
          "suggestion": "æå–å…¬å…±å‡½æ•°æˆ–ä½¿ç”¨æ³›å‹å‡å°‘é‡å¤"
        },
        {
          "name": "æ·±å±‚åµŒå¥—",
          "threshold": 4,
          "severity": "medium",
          "suggestion": "ä½¿ç”¨æ—©æœŸè¿”å›æˆ–æå–å‡½æ•°å‡å°‘åµŒå¥—"
        },
        {
          "name": "é•¿å‚æ•°åˆ—è¡¨",
          "threshold": 5,
          "severity": "low",
          "suggestion": "ä½¿ç”¨ç»“æ„ä½“æˆ–é…ç½®å¯¹è±¡å°è£…å‚æ•°"
        },
        {
          "name": "ç¥å¥‡æ•°å­—",
          "pattern": "hardcoded_numbers",
          "severity": "low",
          "suggestion": "å°†é­”æ³•æ•°å­—æå–ä¸ºå‘½åå¸¸é‡"
        }
      ]
    },
    {
      "name": "è®¾è®¡æ¨¡å¼å»ºè®®",
      "type": "design_pattern_suggestions",
      "patterns": [
        {
          "name": "ç­–ç•¥æ¨¡å¼",
          "condition": "multiple_if_else_chains",
          "suggestion": "ä½¿ç”¨ç­–ç•¥æ¨¡å¼æ›¿æ¢å¤æ‚çš„if-elseé“¾"
        },
        {
          "name": "å·¥å‚æ¨¡å¼",
          "condition": "complex_object_creation",
          "suggestion": "ä½¿ç”¨å·¥å‚æ¨¡å¼ç®€åŒ–å¯¹è±¡åˆ›å»º"
        },
        {
          "name": "è§‚å¯Ÿè€…æ¨¡å¼",
          "condition": "event_handling_scattered",
          "suggestion": "ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ç»Ÿä¸€äº‹ä»¶å¤„ç†"
        },
        {
          "name": "è£…é¥°å™¨æ¨¡å¼",
          "condition": "behavior_extension_needed",
          "suggestion": "ä½¿ç”¨è£…é¥°å™¨æ¨¡å¼æ‰©å±•å¯¹è±¡è¡Œä¸º"
        }
      ]
    },
    {
      "name": "SOLIDåŸåˆ™æ£€æŸ¥",
      "type": "solid_principles_analysis",
      "principles": [
        {
          "name": "å•ä¸€èŒè´£åŸåˆ™",
          "check": "class_responsibility_analysis",
          "suggestion": "ç¡®ä¿æ¯ä¸ªç±»åªæœ‰ä¸€ä¸ªå˜æ›´ç†ç”±"
        },
        {
          "name": "å¼€é—­åŸåˆ™",
          "check": "extension_modification_analysis",
          "suggestion": "ä½¿ç”¨æŠ½è±¡å’Œå¤šæ€æ”¯æŒæ‰©å±•"
        },
        {
          "name": "é‡Œæ°æ›¿æ¢åŸåˆ™",
          "check": "substitution_analysis",
          "suggestion": "ç¡®ä¿å­ç±»å¯ä»¥æ›¿æ¢çˆ¶ç±»"
        },
        {
          "name": "æ¥å£éš”ç¦»åŸåˆ™",
          "check": "interface_segregation_analysis",
          "suggestion": "æ‹†åˆ†å¤§æ¥å£ä¸ºå¤šä¸ªå°æ¥å£"
        },
        {
          "name": "ä¾èµ–å€’ç½®åŸåˆ™",
          "check": "dependency_direction_analysis",
          "suggestion": "ä¾èµ–æŠ½è±¡è€Œä¸æ˜¯å…·ä½“å®ç°"
        }
      ]
    },
    {
      "name": "æ€§èƒ½ä¼˜åŒ–å»ºè®®",
      "type": "performance_refactoring",
      "optimizations": [
        {
          "name": "ç®—æ³•ä¼˜åŒ–",
          "patterns": ["nested_loops", "inefficient_search", "redundant_computation"],
          "suggestions": [
            "ä½¿ç”¨æ›´é«˜æ•ˆçš„ç®—æ³•",
            "æ·»åŠ ç¼“å­˜å‡å°‘é‡å¤è®¡ç®—",
            "ä½¿ç”¨é€‚å½“çš„æ•°æ®ç»“æ„"
          ]
        },
        {
          "name": "å†…å­˜ä¼˜åŒ–",
          "patterns": ["memory_leaks", "excessive_allocation", "large_objects"],
          "suggestions": [
            "ä½¿ç”¨å¯¹è±¡æ± å‡å°‘åˆ†é…",
            "åŠæ—¶é‡Šæ”¾ä¸éœ€è¦çš„èµ„æº",
            "è€ƒè™‘ä½¿ç”¨æµå¼å¤„ç†"
          ]
        },
        {
          "name": "å¹¶å‘ä¼˜åŒ–",
          "patterns": ["blocking_operations", "race_conditions", "deadlocks"],
          "suggestions": [
            "ä½¿ç”¨å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼",
            "å‡å°‘é”çš„ç²’åº¦",
            "ä½¿ç”¨æ— é”æ•°æ®ç»“æ„"
          ]
        }
      ]
    },
    {
      "name": "å¯æµ‹è¯•æ€§æ”¹è¿›",
      "type": "testability_enhancement",
      "improvements": [
        {
          "name": "ä¾èµ–æ³¨å…¥",
          "condition": "hard_dependencies",
          "suggestion": "ä½¿ç”¨ä¾èµ–æ³¨å…¥æé«˜å¯æµ‹è¯•æ€§"
        },
        {
          "name": "çº¯å‡½æ•°æå–",
          "condition": "side_effects_in_logic",
          "suggestion": "å°†ä¸šåŠ¡é€»è¾‘æå–ä¸ºçº¯å‡½æ•°"
        },
        {
          "name": "æ¥å£æŠ½è±¡",
          "condition": "concrete_dependencies",
          "suggestion": "ä¸ºå¤–éƒ¨ä¾èµ–åˆ›å»ºæ¥å£æŠ½è±¡"
        }
      ]
    },
    {
      "name": "ä»£ç å¯è¯»æ€§æ”¹è¿›",
      "type": "readability_enhancement",
      "improvements": [
        {
          "name": "å‘½åæ”¹è¿›",
          "patterns": ["unclear_names", "abbreviations", "misleading_names"],
          "suggestions": [
            "ä½¿ç”¨æè¿°æ€§çš„å˜é‡å",
            "é¿å…ä½¿ç”¨ç¼©å†™",
            "ç¡®ä¿åç§°åæ˜ å®é™…ç”¨é€”"
          ]
        },
        {
          "name": "æ³¨é‡Šæ”¹è¿›",
          "patterns": ["missing_comments", "outdated_comments", "obvious_comments"],
          "suggestions": [
            "ä¸ºå¤æ‚é€»è¾‘æ·»åŠ è§£é‡Šæ€§æ³¨é‡Š",
            "æ›´æ–°è¿‡æ—¶çš„æ³¨é‡Š",
            "ç§»é™¤æ˜¾è€Œæ˜“è§çš„æ³¨é‡Š"
          ]
        },
        {
          "name": "ä»£ç ç»„ç»‡",
          "patterns": ["scattered_related_code", "mixed_abstraction_levels"],
          "suggestions": [
            "å°†ç›¸å…³ä»£ç ç»„ç»‡åœ¨ä¸€èµ·",
            "ä¿æŒä¸€è‡´çš„æŠ½è±¡å±‚æ¬¡"
          ]
        }
      ]
    },
    {
      "name": "é‡æ„è®¡åˆ’ç”Ÿæˆ",
      "type": "refactoring_plan",
      "actions": [
        {
          "name": "ä¼˜å…ˆçº§æ’åº",
          "criteria": ["impact", "effort", "risk"],
          "script": "æ ¹æ®å½±å“ã€å·¥ä½œé‡å’Œé£é™©å¯¹é‡æ„ä»»åŠ¡æ’åº"
        },
        {
          "name": "é‡æ„æ­¥éª¤åˆ†è§£",
          "script": "å°†å¤§çš„é‡æ„ä»»åŠ¡åˆ†è§£ä¸ºå°æ­¥éª¤"
        },
        {
          "name": "é£é™©è¯„ä¼°",
          "script": "è¯„ä¼°æ¯ä¸ªé‡æ„ä»»åŠ¡çš„é£é™©"
        },
        {
          "name": "ç”Ÿæˆé‡æ„æ¸…å•",
          "output": ".kiro/plans/refactoring-checklist.md"
        }
      ]
    },
    {
      "name": "è‡ªåŠ¨é‡æ„å»ºè®®",
      "type": "automated_refactoring",
      "safe_refactorings": [
        {
          "name": "æå–å˜é‡",
          "pattern": "complex_expressions",
          "automation": "high"
        },
        {
          "name": "æå–å‡½æ•°",
          "pattern": "code_duplication",
          "automation": "medium"
        },
        {
          "name": "é‡å‘½å",
          "pattern": "unclear_names",
          "automation": "high"
        },
        {
          "name": "ç§»é™¤æ­»ä»£ç ",
          "pattern": "unused_code",
          "automation": "medium"
        }
      ]
    }
  ],
  "reports": [
    {
      "name": "ä»£ç è´¨é‡æŠ¥å‘Š",
      "output": ".kiro/reports/code-quality-report.html",
      "sections": [
        "ä»£ç å¼‚å‘³æ‘˜è¦",
        "SOLIDåŸåˆ™è¿å",
        "æ€§èƒ½é—®é¢˜",
        "å¯æµ‹è¯•æ€§é—®é¢˜",
        "é‡æ„å»ºè®®"
      ]
    },
    {
      "name": "é‡æ„è®¡åˆ’",
      "output": ".kiro/plans/refactoring-plan.md",
      "format": "markdown_checklist"
    }
  ],
  "notifications": {
    "high_priority_issues": "ğŸš¨ å‘ç°é«˜ä¼˜å…ˆçº§ä»£ç è´¨é‡é—®é¢˜",
    "refactoring_opportunities": "ğŸ”§ è¯†åˆ«åˆ°é‡æ„æœºä¼š",
    "automated_fixes_available": "ğŸ¤– æœ‰å¯è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜"
  },
  "settings": {
    "auto_apply_safe_refactorings": false,
    "create_refactoring_branches": true,
    "generate_before_after_diffs": true,
    "timeout": 300
  }
}